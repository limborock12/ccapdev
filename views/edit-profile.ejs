<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Profile - Food Review</title>
    <link href="../assets/editprofile.css" rel="stylesheet">  </head>
<body>
    <header>
        <h1 class="site-logo"><a href="/" class="logo replace">Food Review</a></h1>
        <nav class="main-nav">
            <ul class="navitems">
                <li><a href="/discover">Discover</a></li>
                <% if (user) { %>
                    <li><a href="/profile">Profile</a></li>
                    <li><a href="/logout">Logout</a></li> 
                <% } else { %>
                    <li><a href="/login">Login</a></li>
                    <li><a href="/register">Register</a></li>
                <% } %>
            </ul>
        </nav>
    </header>

    <main class="edit-profile">
        <form method="post" action="/user/update" enctype="multipart/form-data"> <h2 class="section-title">Edit Profile</h2>
            <section class="update-details section">
                <fieldset>
                    <div class="form-row">
                      <label for="username">Username</label>
                      <input type="text" name="username" id="username" class="field" maxlength="15" value="<%= user.username %>">
                      <button type="button" class="edit-button">Edit</button>
                    </div>

                    <div class="form-row">
                      <label for="profilePicture">Profile Picture:</label>
                      <input type="file" name="profilePicture" id="profilePicture" accept="image/*">
                    </div>
          
                    <div class="form-columns -cols2">
                      <div class="form-row">
                        <label for="given-name">Given Name</label>
                        <input type="text" name="givenName" id="given-name" class="field" value="<%= user.givenName || '' %>">
                      </div>
                      <div class="form-row">
                        <label for="family-name">Family Name</label>
                        <input type="text" name="familyName" id="family-name" class="field" value="<%= user.familyName || '' %>">
                      </div>
                    </div>
            
                    <div class="form-row">
                      <label for="email">Email Address</label>
                      <input type="email" name="emailAddress" id="email" class="field" value="<%= user.email %>">
                    </div>
            
                    <div class="form-columns -cols2">
                      <div class="form-row">
                        <label for="location">Location</label>
                        <input type="text" name="location" id="location" class="field" value="<%= user.location || '' %>">
                      </div>
                      <div class="form-row">
                        <label for="website">Website</label>
                        <input type="text" name="website" id="website" class="field" value="<%= user.website || '' %>">
                      </div>
                    </div>

                    <div class="form-row">
                      <label for="bio">Bio</label>
                      <textarea name="bio" id="bio" class="textarea" rows="5"><%= user.bio || 'i love food' %></textarea>
                    </div>

                    <div class="form-row">
                      <label for="pronoun">Pronoun</label>
                      <select name="pronoun" id="pronoun" class="select">
                        <option value="They" <%= user.pronoun === 'They' ? 'selected' : '' %>>They / their</option>
                        <option value="He" <%= user.pronoun === 'He' ? 'selected' : '' %>>He / his</option>
                        <option value="She" <%= user.pronoun === 'She' ? 'selected' : '' %>>She / her</option>
                        </select>
                    </div>
          
                    <div class="form-row">
                      <label for="favoriteFood">Favorite Food:</label>
                      <input type="text" name="favoriteFood" id="favoriteFood" class="field" value="<%= user.favoriteFood || '' %>">
                    </div>

                  <div class="form-row">
                    <label class="option-label -checkbox">
                      <input type="checkbox" name="privacyIncludeInPeopleSection" class="checkbox" checked>
                      Agree to changes
                    </label>
                  </div>
                </fieldset>
              </section>
          
              <div class="buttons">
                <input type="submit" class="button -action" value="Save Changes">
              </div>
            </form>
          </main>
          <footer>
            <p>&copy; 2024 Animo Eats. All rights reserved.</p>
          </footer>
</body>
</html>
